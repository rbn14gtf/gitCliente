<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ejercicio Alumnos</title>
    </head>
    <body>
        <p id="notaMedia">Nota Media:</p>
        <script>
            let alumnos=[{nombreAlumno:"Maria",notaAlumno:1},{nombreAlumno:"Ruben",notaAlumno:1},{nombreAlumno:"Pablo",notaAlumno:1},{nombreAlumno:"Marcos",notaAlumno:1},{nombreAlumno:"Juan",notaAlumno:1},{nombreAlumno:"Clara",notaAlumno:1},{nombreAlumno:"Pilar",notaAlumno:1},{nombreAlumno:"Sara",notaAlumno:1},{nombreAlumno:"Nerea",notaAlumno:1},{nombreAlumno:"Julian",notaAlumno:1},{nombreAlumno:"Marcos",notaAlumno:1},{nombreAlumno:"Alfredo",notaAlumno:1},{nombreAlumno:"Victoria",notaAlumno:1},{nombreAlumno:"Raul",notaAlumno:1},{nombreAlumno:"Tomas",notaAlumno:1},];
            let nota=0;
            console.table(alumnos)
            function calculaMedia(){
                let total=0;
                for(let i=0;i<alumnos.length;i++){
                    total+=alumnos[i].notaAlumno;
                }
                return (total/alumnos.length).toFixed(2);
            }
            function cambiaNotas(){
                let notaNueva=0;
                for(let i=0;i<alumnos.length;i++){
                    if(window.confirm("Nombre Alumno: "+alumnos[i].nombreAlumno+"\nNota Alumno: "+alumnos[i].notaAlumno+"\nDesea cambiar la nota?")){
                        notaNueva=Number(prompt("Introduzca la nota del alumno "+alumnos[i].nombreAlumno,alumnos[i].notaAlumno))
                        alumnos[i].notaAlumno=notaNueva;
                        alert("Nombre Alumno: "+alumnos[i].nombreAlumno+"\nNota Alumno: "+alumnos[i].notaAlumno)
                    }
                    else{
                        
                    }
                }
            }
            function addAlumno(){
                let nombreNuevo=""
                if(window.confirm("Desea añadir un nuevo alumno?")){
                    do{
                        nombreNuevo=String(prompt("Introduzca el nombre del alumno ","Ruben2"))
                    }while((!isNaN(nombreNuevo))&&(nombreNuevo===""))
                    alumnos.push({nombreAlumno:nombreNuevo,notaAlumno:1})
                    alert(nombreNuevo+" ha sido añadido")
                    }
                else{
                    
                }
                console.table(alumnos)
            }
            function deleteAlumno(){
                for(let i=0;i<alumnos.length;i++){
                    if(window.confirm("Nombre Alumno: "+alumnos[i].nombreAlumno+"\nNota Alumno: "+alumnos[i].notaAlumno+"\nDesea eliminar este alumno?")){
                        alumnos.splice(i, 1); 
                        i--;
                    }
                    else{
                    }    
                }
                console.table(alumnos)
            }
            function introduceNotas(){
                let i=0;
                do{
                    nota=Number(prompt("Introduzca la nota del alumno "+alumnos[i].nombreAlumno,"5"))
                    alumnos[i].notaAlumno=nota;
                    i++;
                }while((i<alumnos.length)&&(nota>=1)&&nota<=10);
                console.table(alumnos)

            }
            //Funcionalidad 2
            addAlumno()
            //Funcionalidad 3
            deleteAlumno()
            introduceNotas();
            //Funcionalidad 1
            cambiaNotas()
            console.table(alumnos)

            document.getElementById("notaMedia").innerHTML+=calculaMedia()
        </script>  
    </body>
</html>
