<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ejercicio Patrones</title>
    </head>
    <body>
        <script>

        function countPatron(cadenaPatron){
            let array=cadena.split("");
            for(let i=0;i<array.length;i++){
                for(let j=0;j<cadenaPatron.length;j++){
                    if(cadenaPatron.length==2){
                        if(array[i]==cadenaPatron.charAt(j)&&array[i+1]==cadenaPatron.charAt(j+1)){
                            if(cadenaPatron=="00"){
                                vecesPatron00++;
                            }else if(cadenaPatron=="101"){
                                vecesPatron101++;
                            }else if(cadenaPatron=="ABC"){
                                vecesPatronABC++;
                            }else{
                                vecesPatronHO++;
                            }
                        }
                    }
                    if(cadenaPatron.length==3){
                        if(array[i]==cadenaPatron.charAt(j)&&array[i+1]==cadenaPatron.charAt(j+1)&&array[i+2]==cadenaPatron.charAt(j+2)){
                            if(cadenaPatron=="00"){
                                vecesPatron00++;
                            }else if(cadenaPatron=="101"){
                                vecesPatron101++;
                            }else if(cadenaPatron=="ABC"){
                                vecesPatronABC++;
                            }else{
                                vecesPatronHO++;
                            }
                        }
                    }
                }
            }
            if(cadenaPatron=="00"){
                console.log("Veces que aparece el patron "+cadenaPatron+": "+vecesPatron00);
            }else if(cadenaPatron=="101"){
                console.log("Veces que aparece el patron "+cadenaPatron+": "+vecesPatron101);
            }else if(cadenaPatron=="ABC"){
                console.log("Veces que aparece el patron "+cadenaPatron+": "+vecesPatronABC);
            }else{
                console.log("Veces que aparece el patron "+cadenaPatron+": "+vecesPatronHO);
            }
        }

        function countNumeroPatronesEncontrados(){
            if(vecesPatron00!=0){
                numPatronesEncontrados++;
            }
            if(vecesPatron101!=0){
                numPatronesEncontrados++;
            }
            if(vecesPatronABC!=0){
                numPatronesEncontrados++;
            }
            if(vecesPatronHO!=0){
                numPatronesEncontrados++;
            }
            console.log("Numero de patrones encontrados: "+numPatronesEncontrados)
        }
        let cadena="";
        let patron00="00";
        let patron101="101";
        let patronABC="ABC";
        let patronHO="HO";
        let numPatronesEncontrados=0;
        let vecesPatron00=0;
        let vecesPatron101=0;
        let vecesPatronABC=0;
        let vecesPatronHO=0;
        
        do{
            cadena=String(prompt("Introduzca una cadena de caracteres","")).toUpperCase();
        }while(cadena=="");
        console.log(cadena);
        countPatron(patron00);
        countPatron(patron101);
        countPatron(patronABC);
        countPatron(patronHO);
        countNumeroPatronesEncontrados();
        
        </script>                
    </body>
</html>
